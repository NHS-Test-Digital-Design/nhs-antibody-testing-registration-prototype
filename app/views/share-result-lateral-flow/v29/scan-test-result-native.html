{% set version = "research" %}
{% set pageTitle = "Take a photo of your test strip" %}

{% extends "includes/layout-LFD.html" %}

{% block content %}
  {% include "includes/gtm-noscript.html" %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">

        <div id="content-1">
          <!-- The `label` is attached to the hidden file input -->
          <label for="cameraFileInput">
            <span class="govuk-button btn" role="button">Open camera</span>

            <!-- The hidden file `input` for opening the native camera -->
            <input
              id="cameraFileInput"
              type="file"
              accept="image/*"
              capture="environment"
            />
          </label>


        </div>

        <div>
          <h1 class="govuk-heading-l govuk-!-margin-bottom-5">Check and upload your photo</h1>
          <p class="govuk-body"><strong>To take a good photo, make sure:</strong></p>
          <ul class="govuk-list govuk-list--bullet govuk-!-margin-top-5">
            <li>you hold your phone/tablet flat and steady, directly above the test strip</li>
            <li>the C and T letters are the right way up and within the stencil</li>
            <li>the specimen well (where you squeezed the fluid) is at the bottom and within the stencil</li>
            <li>the photo is in focus with no shadows or bright lights on it</li>
            <li>no personal information is in the photo, for example bank details</li>
            </ul>
            <!-- displays the picture uploaded from the native camera -->
            <img id="pictureFromCamera" />
          </div>
        

        <a id="snap" href="#" role="button" draggable="false" class="govuk-button" data-module="govuk-button" style="display: inline-block;">
          Take Photo
        </a>
        <!-- <button id="snap" class="govuk-button" type="submit" data-module="govuk-button" style="display: inline-block;">Snap Photo</button> -->
        <a id="snap-2" href="photo-confirmed" role="button" draggable="false" class="govuk-button" data-module="govuk-button" style="display: none;">
          Upload photo
        </a>

        <a id="cancel" href="#" role="button" draggable="false" class="govuk-button govuk-button--secondary govuk-!-margin-bottom-8" data-module="govuk-button" style="display: inline-block;">
          Cancel
        </a>
        <a id="cancel-2" href="#" role="button" draggable="false" class="govuk-button govuk-button--secondary govuk-!-margin-bottom-8" data-module="govuk-button" style="display: none;">
          Re-take your photo
        </a>

    </div>
  </div>

  <script>
    document
      .getElementById("cameraFileInput")
      .addEventListener("change", function () {
        document
          .getElementById("pictureFromCamera")
          .setAttribute("src", window.URL.createObjectURL(this.files[0]));
      });
  </script>

{% endblock %}
